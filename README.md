
<h1 align="center">Привет, я <a href="https://github.com/Zhandarbek15" target="_blank">Жандарбек</a> 
<img src="https://github.com/blackcater/blackcater/raw/main/images/Hi.gif" height="32"/></h1>
<h3 align="center">Это проект по бэкенду системы петиций написанный на GoLang</h3>



## О проекте

Этот проект представляет собой бэкенд для системы петиций. Он написан на Go и использует различные библиотеки для реализации функционала.

### Технологии

- **GoLang**: Основной язык программирования.
- **MySQL**: База данных.
- **GORM**: ORM-библиотека для работы с базой данных.
- **Gin**: Веб-фреймворк для маршрутизации.
- **Logrus**: Библиотека для логирования с кастомным форматированием.
- **JWT**: Авторизация с использованием JSON Web Tokens. Используется access и refresh токены.
- **Middleware**: Для обработки авторизации и других задач.

## Установка и запуск

### Предварительные требования

Убедитесь, что у вас установлены следующие инструменты:

- [Go](https://golang.org/doc/install)
- [MySQL](https://dev.mysql.com/downloads/installer/)
- [Git](https://git-scm.com/downloads)

### Шаги установки

1. Клонируйте репозиторий:
    ```sh
    git clone https://github.com/Zhandarbek15/golang_petition_backend.git
    ```
2. Перейдите в директорию проекта:
    ```sh
    cd your-repository
    ```
3. Установите зависимости:
    ```sh
    go mod download
    ```
4. Настройте базу данных:
    - Создайте базу данных в MySQL.
    - Обновите файл `configs/config.json` с вашими параметрами подключения к базе данных.

### Запуск проекта

Для запуска проекта выполните следующую команду:
```sh
go run main.go
```

## Структура проекта

```
your-repository/
├── cmd/
│   └── apiserver/
│       └── main.go
├── configs/
│   └── config.json
├── internal/
│   └── app/
│      ├── apiserver/
│      ├── handlers/
│      ├── models/
│      └── repositories/
├── middleware/
│   ├── AuthMiddleware.go
│   └── RoleMiddleware.go
└── utils/
    ├── auth/
    └── logger/
```

- **main.go**: Главный файл для запуска приложения.
- **config/**: Содержит конфигурационные файлы.
- **apiserver**: Содержит начальные функиций для коннектов и считывания конфигов.
- **models/**: Содержит модели данных.
- **handlers/**: Содержит файл для определения маршрутов.
- **middleware/**: Содержит middleware для обработки авторизации.
- **utils/**: Содержит вспомогательные утилиты, например, для работы с JWT.

## Маршруты API

### Аутентификация

- **POST /user/registration**: Регистрация нового пользователя.
- **POST /user/login**: Логин пользователя.
- **GET /user/login**: Запрос на обнавления пар токенов.

## Middleware

Проект использует middleware для обработки JWT авторизации. Middleware проверяет наличие и валидность токена в заголовках запросов.
RoleAdminMiddleware проверяет роль пользователя по payload токена

## TODO
- [ ] Создать модель и роуты для петиций.
- [ ] Добавить коментарий для петиций.
- [ ] Реализовать функционал для голосования за петиции.
- [ ] Добавить роль администратора для управления петициями.
- [ ] Написать тесты для основных компонентов.
- [ ] Добавить обработку ошибок и логирование.

## Вклад

Приветствуются вклады от сообщества! Если у вас есть идеи или вы хотите внести изменения, создайте pull request или откройте issue.
